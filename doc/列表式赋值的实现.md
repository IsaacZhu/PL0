# ? 列表式赋值的实现

## ?.1 实现的功能

实现类似 Python (?) 的列表式赋值，形如：a, b = 1, 2;

## ?.2 实现的原理

维持一个赋值栈，记录左值。存入的时候将栈顶元素依次存入。

## ?.3 实现的思路

维持一个赋值栈，记录左值。存入的时候将栈顶元素依次存入。

## ?.4 具体实现

在 statement 的赋值处增加判断，若应该出现 SYM\_BECOMES （或自增自减）的地方出现了逗号，
说明是列表式赋值。则将左值按从左到右的顺序入赋值栈。

当右边的 expression 依次求值后，将栈顶元素按照左值从右到左的顺序赋值（赋值栈依次弹出）。

## ?.5 效果

```pl0

var result, a, b, c;
begin
    a, b, c := 10, 99, 87;
    printf("@0, @1, @2\n", a, b, c);
    a, c := b * 10, a + c;
    printf("@0, @1\n", a, c);
end.
```

输出结果

```

Begin executing PL/0 program.
99, 87, 10
870, 969
End executing PL/0 program.

```

## ?.6 后续工作

无